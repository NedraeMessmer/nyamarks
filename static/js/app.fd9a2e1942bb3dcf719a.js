webpackJsonp([1,2],[,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"g",function(){return r}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return d});var i="ADD_LINK",r="REMOVE_LINK",a="UPDATE_LINK",o="RESET_LINKS",s="ADD_TAG",u="REMOVE_TAG",c="RESET_TAGS",l="SHOW_OPTIONS",d="HIDE_OPTIONS"},,,,,,,,,,,,,,,,function(t,e,n){n(107);var i=n(3)(n(65),n(123),"data-v-2891eca6",null);t.exports=i.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(135),r={};i.keys().forEach(function(t){"./index.js"!==t&&(r[t.replace(/(\.\/|\.js)/g,"")]=i(t).default)}),e.default=r},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(30),r=n(132),a=n(120),o=n.n(a),s=n(116),u=n.n(s);i.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Main",component:o.a},{path:"/edit/:id",name:"EditLink",component:u.a,props:!0}]})},function(t,e,n){"use strict";var i=n(52),r=n(53),a=n(31);e.a={actions:i,getters:r,modules:a.default,strict:!1}},function(t,e,n){n(108);var i=n(3)(n(57),n(124),"data-v-4053e536",null);t.exports=i.exports},function(t,e,n){"use strict";var i=n(4),r=n.n(i),a=r()({},console);for(var o in console)a[o]=function(){};e.a=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(70),r=n.n(i),a=n(13);n.d(e,"addLink",function(){return o}),n.d(e,"removeLink",function(){return s}),n.d(e,"updateLink",function(){return u}),n.d(e,"addTags",function(){return c}),n.d(e,"removeTag",function(){return l}),n.d(e,"resetData",function(){return d}),n.d(e,"showOptions",function(){return m}),n.d(e,"hideOptions",function(){return p});var o=function(t,e){var n=t.commit,i=t.dispatch,r=e.link,o=r.tags;n(a.f,{link:r}),i("addTags",{tags:o})},s=function(t,e){var n=t.commit,i=e.id;n(a.g,{id:i})},u=function(t,e){var n=t.commit,i=e.index,o=e.link;return new r.a(function(t){n(a.h,{index:i,link:o}),t()})},c=function(t,e){var n=t.commit;e.tags.forEach(function(t){return n(a.c,{tag:t})})},l=function(t,e){var n=t.commit,i=e.id;n(a.d,{id:i})},d=function(t,e){var n=t.commit,i=e.data,r=i.links,o=i.tags,s=i.$tracking;n(a.e,{tags:o,$tracking:s}),n(a.i,{links:r})},m=function(t){(0,t.commit)(a.a,{showOptions:!0})},p=function(t){(0,t.commit)(a.b,{showOptions:!1})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(67),r=n.n(i),a=n(4),o=n.n(a);n.d(e,"link",function(){return s}),n.d(e,"taggedLinks",function(){return u}),n.d(e,"matchingLinks",function(){return c}),n.d(e,"tags",function(){return l}),n.d(e,"storeAsJson",function(){return d});var s=function(t){return function(e){var n=o()({},t.links.main[e]);return n.id=e,n.tags=n.tags.join(" "),n}},u=function(t){return function(e){return e&&0!==e.length?t.links.main.filter(function(t){return t.tags.some(function(t){return e.indexOf(t)>=0})}):t.links.main}},c=function(t){return function(e){if(!e)return t.links.main;var n=Array.isArray(e)?e:e.split(" ");return t.links.main.filter(function(t){var e=t.tags.some(function(t){return n.indexOf(t)>=0}),i=n.reduce(function(e,n){var i=n.toLowerCase();return t.description.toLowerCase().includes(i)||e},!1),r=n.reduce(function(e,n){var i=n.toLowerCase();return t.name.toLowerCase().includes(i)||e},!1);return e||i||r})}},l=function(t){return t.tags.main},d=function(t){return function(){var e=t.links.main,n=t.tags.main,i=t.tags.$tracking;return r()({links:e,tags:n,$tracking:i})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(17),a=n.n(r),o=n(32),s=n.n(o),u=n(13),c={main:[{name:"Google",url:"https://google.com",description:"Google Search",tags:["search","google"]},{name:"YouTube",url:"https://youtube.com",description:"Videos",tags:["video","google","youtube"]},{name:"Bing",url:"https://bing.com",description:"Bing Search",tags:["search","bing","microsoft"]},{name:"Mozilla Developer Network",url:"https://developer.mozilla.org",description:"Developers!",tags:["search","developer","mozilla"]}]},l=(i={},a()(i,u.f,function(t,e){var n=e.link;return t.main.push(n)}),a()(i,u.g,function(t,e){var n=e.index;return t.main.splice(n,1)}),a()(i,u.h,function(t,e){var n=e.index,i=e.link;return i.tags=i.tags.split(" "),t.main.splice(n,1,i)}),a()(i,u.i,function(t,e){var n=e.links;return t.main=[].concat(s()(n))}),i);e.default={state:c,mutations:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(17),a=n.n(r),o=n(32),s=n.n(o),u=n(13),c={main:[{id:0,name:"search"},{id:1,name:"google"},{id:2,name:"video"},{id:3,name:"youtube"},{id:4,name:"bing"},{id:5,name:"microsoft"},{id:6,name:"developer"},{id:7,name:"mozilla"}],$tracking:7},l=(i={},a()(i,u.c,function(t,e){var n=e.tag;if(t.main.includes(n))return t.main;var i=t.$tracking?t.$tracking+1:0,r={name:n,id:i};return t.$tracking++,t.main.push(r)}),a()(i,u.d,function(t,e){var n=e.id,i=t.main.findIndex(function(t){return t.id===n});return t.main.splice(i,1)}),a()(i,u.e,function(t,e){var n=e.tags,i=e.$tracking,r=void 0===i?null:i;return t.$tracking=r,t.main=[].concat(s()(n)),t.main}),i);e.default={state:c,mutations:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(17),a=n.n(r),o=n(13),s={showOptions:!1},u=(i={},a()(i,o.a,function(t){return t.showOptions=!0}),a()(i,o.b,function(t){return t.showOptions=!1}),i);e.default={state:s,mutations:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(51),r=n(117),a=n.n(r),o=n(121),s=n.n(o);e.default={name:"app",components:{"header-component":a.a,"options-panel":s.a},data:function(){return{showOptions:!1,env:"production"}},created:function(){this.loadFromLocalStorage()},methods:{loadFromLocalStorage:function(){var t=localStorage.getItem("nyamarks");if(!t)return i.a.info("Initializing default links"),!1;var e=JSON.parse(t);return i.a.info("Initializing with stored data"),this.$store.dispatch("resetData",{data:e})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i);e.default={name:"EditLink",props:["id"],computed:{link:function(){return this.$store.getters.link(this.id)}},methods:{updateLink:function(){var t=this,e=r()({},this.link);this.$store.dispatch("updateLink",{index:this.id,link:e}).then(function(){t.$router.push({name:"Main"})})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),a=n(9);e.default={name:"header",methods:r()({},n.i(a.c)(["showOptions"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LinkItem",props:["link","linkId"],data:function(){return{editLink:{name:"EditLink",params:{id:this.linkId}}}},methods:{removeLink:function(){this.$emit("delete-link")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),a=n(118),o=n.n(a),s=n(9);e.default={name:"LinkList",data:function(){return{search:null}},computed:r()({},n.i(s.d)(["matchingLinks"])),methods:{removeLink:function(t){return this.$store.dispatch({type:"removeLink",id:t})}},components:{linkItem:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),a=n(119),o=n.n(a),s=n(122),u=n.n(s),c={name:"",url:"",tags:"",description:""};e.default={name:"Main",data:function(){return{welcome:"Welcome to nyamarks",newLink:r()({},c),fileLoad:null}},methods:{addLink:function(){var t=r()({},this.newLink),e=document.forms.newLink;""===t.tags?t.tags=[]:t.tags=t.tags.split(" "),e.reset(),this.newLink=r()({},c),this.$store.dispatch({type:"addLink",link:t})},saveToDisk:function(){var t=this.$store.getters.storeAsJson(),e=document.createElement("a"),n=new MouseEvent("click",{bubbles:!0,cancelable:!0});return e.setAttribute("download","nyamarks.json"),e.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(t)),e.dispatchEvent(n)},loadFromDisk:function(){var t=this,e=this.$refs.loadFile.files[0],n=new FileReader,i=document.forms.loadLinks;n.onload=function(e){var n=JSON.parse(e.target.result);return t.$store.dispatch({type:"resetData",data:n}),i.reset()},n.readAsText(e)},saveToLocalStorage:function(){var t=this.$store.getters.storeAsJson();return localStorage.setItem("nyamarks",t)},loadFromLocalStorage:function(){var t=localStorage.getItem("nyamarks");if(!t)return!1;var e=JSON.parse(t);return this.$store.dispatch({type:"resetData",data:e})},clearLocalStorage:function(){return localStorage.removeItem("nyamarks")}},components:{linkList:o.a,tagList:u.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),a=n(9);e.default={name:"options-panel",computed:r()({},n.i(a.b)({showOptions:function(t){return t.ui.showOptions}})),methods:{dismiss:function(){return this.$store.dispatch("hideOptions")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),a=n(29),o=n.n(a),s=n(9);e.default={name:"TagList",data:function(){return{newTags:""}},computed:r()({},n.i(s.d)(["tags"])),methods:{addTags:function(){if(""===this.newTags)return!1;var t=this.newTags.split(" ");return this.newTags="",this.$store.commit({type:"addTags",tags:t})},removeTag:function(t){return this.$store.dispatch({type:"removeTag",id:t})}},components:{tagPill:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["tagname","deletable"],methods:{deletePill:function(){this.$emit("delete-pill")}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(113);var i=n(3)(n(58),n(129),"data-v-cad944fe",null);t.exports=i.exports},function(t,e,n){n(115);var i=n(3)(n(59),n(131),"data-v-e9e9d8ac",null);t.exports=i.exports},function(t,e,n){n(109);var i=n(3)(n(60),n(125),"data-v-46ef460a",null);t.exports=i.exports},function(t,e,n){n(110);var i=n(3)(n(61),n(126),"data-v-50f4be15",null);t.exports=i.exports},function(t,e,n){n(111);var i=n(3)(n(62),n(127),"data-v-6e453e16",null);t.exports=i.exports},function(t,e,n){n(112);var i=n(3)(n(63),n(128),"data-v-7d318a3a",null);t.exports=i.exports},function(t,e,n){n(114);var i=n(3)(n(64),n(130),"data-v-d5203cea",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-pill"},[n("span",[t._v(t._s(t.tagname))]),t._v(" "),t.deletable?n("button",{staticClass:"delete",on:{click:t.deletePill}},[t._v("X")]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("options-panel"),t._v(" "),n("header-component"),t._v(" "),n("router-view"),t._v(" "),n("p",{staticClass:"env"},[t._v("\n    Env: "+t._s(t.env)+" |\n    "),n("a",{attrs:{href:"https://github.com/NedraeMessmer/nyamarks"}},[t._v("Source")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-item"},[n("div",{staticClass:"name"},[n("p",[t._v(t._s(t.link.name))])]),t._v(" "),n("div",{staticClass:"url"},[n("p",[n("a",{attrs:{href:t.link.url,target:"_blank"}},[t._v(t._s(t.link.url))])])]),t._v(" "),n("div",{staticClass:"description"},[n("p",[t._v(t._s(t.link.description))])]),t._v(" "),n("div",{staticClass:"tags"},t._l(t.link.tags,function(t,e){return n("tag-pill",{key:e,attrs:{tagname:t}})})),t._v(" "),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:t.editLink}},[t._v("Edit")]),t._v(" "),n("button",{on:{click:function(e){t.removeLink(t.linkId)}}},[t._v("Delete")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-list-container"},[n("div",{staticClass:"link-list-filters"},[n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],attrs:{placeholder:"Search title, description, tag"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),n("div",{staticClass:"link-list"},t._l(t.matchingLinks(this.search),function(e,i){return n("link-item",{key:i,attrs:{link:e,"link-id":i},on:{"delete-link":function(e){t.removeLink(i)}}})}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("h1",[t._v(t._s(t.welcome))]),t._v(" "),n("form",{staticClass:"newLink",attrs:{name:"newLink"},on:{submit:function(e){e.preventDefault(),t.addLink(e)}}},[n("h2",[t._v("Add new link")]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newLink.name,expression:"newLink.name",modifiers:{trim:!0}}],attrs:{placeholder:"Name"},domProps:{value:t.newLink.name},on:{input:function(e){e.target.composing||(t.newLink.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newLink.url,expression:"newLink.url",modifiers:{trim:!0}}],attrs:{placeholder:"URL (required)",required:""},domProps:{value:t.newLink.url},on:{input:function(e){e.target.composing||(t.newLink.url=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newLink.tags,expression:"newLink.tags",modifiers:{trim:!0}}],attrs:{placeholder:"Tags (space-delimited)"},domProps:{value:t.newLink.tags},on:{input:function(e){e.target.composing||(t.newLink.tags=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("p",[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.newLink.description,expression:"newLink.description",modifiers:{trim:!0}}],attrs:{placeholder:"Description"},domProps:{value:t.newLink.description},on:{input:function(e){e.target.composing||(t.newLink.description=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Add link")])]),t._v(" "),n("div",[n("h3",[t._v("Current links")]),t._v(" "),n("link-list")],1),t._v(" "),n("div",[n("h3",[t._v("Current tags")]),t._v(" "),n("tag-list")],1),t._v(" "),n("div",[n("button",{on:{click:t.saveToDisk}},[t._v("Save to disk")]),t._v(" "),n("button",{on:{click:t.saveToLocalStorage}},[t._v("Save to localStorage")]),t._v(" "),n("form",{attrs:{name:"loadLinks"},on:{submit:function(t){t.preventDefault()}}},[n("input",{ref:"loadFile",attrs:{type:"file",accept:"application/json,.json"}}),t._v(" "),n("button",{on:{click:t.loadFromDisk}},[t._v("Load links")]),t._v(" "),n("button",{on:{click:t.loadFromLocalStorage}},[t._v("Load from localStorage")]),t._v(" "),n("button",{on:{click:t.clearLocalStorage}},[t._v("Clear localStorage")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"options-panel"}},[n("transition",{attrs:{name:"open"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"overlay",on:{click:function(e){t.dismiss()}}})]),t._v(" "),n("transition",{attrs:{name:"open"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"options-form"},[n("button",{attrs:{type:"button"},on:{click:function(e){t.dismiss()}}},[t._v("\n        Close\n      ")]),t._v(" "),n("p",[t._v("Hello! Is this panel shown?")])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit-link"}},[n("div",[n("router-link",{attrs:{to:{name:"Main"}}},[t._v("\n      ← Return\n    ")])],1),t._v(" "),n("form",{staticClass:"edit-link-form",attrs:{name:"editLink"},on:{submit:function(e){e.preventDefault(),t.updateLink(e)}}},[n("h2",[t._v("\n      Edit link: "+t._s(t.link.name)+"\n      "),n("small",{staticClass:"linkId"},[t._v(t._s(t.id))])]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.link.name,expression:"link.name",modifiers:{trim:!0}}],attrs:{placeholder:"Name"},domProps:{value:t.link.name},on:{input:function(e){e.target.composing||(t.link.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.link.url,expression:"link.url",modifiers:{trim:!0}}],attrs:{placeholder:"URL (required)",required:""},domProps:{value:t.link.url},on:{input:function(e){e.target.composing||(t.link.url=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.link.tags,expression:"link.tags",modifiers:{trim:!0}}],attrs:{placeholder:"Tags (space-delimited)"},domProps:{value:t.link.tags},on:{input:function(e){e.target.composing||(t.link.tags=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("p",[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.link.description,expression:"link.description",modifiers:{trim:!0}}],attrs:{placeholder:"Description"},domProps:{value:t.link.description},on:{input:function(e){e.target.composing||(t.link.description=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Update link")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-list-container"},[n("div",{staticClass:"tag-list"},t._l(t.tags,function(e){return n("tag-pill",{key:e.id,attrs:{tagname:e.name,deletable:!0},on:{"delete-pill":function(n){t.removeTag(e.id)}}})})),t._v(" "),n("form",{on:{submit:function(e){e.preventDefault(),t.addTags(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTags,expression:"newTags",modifiers:{trim:!0}}],attrs:{placeholder:"Tags"},domProps:{value:t.newTags},on:{input:function(e){e.target.composing||(t.newTags=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Add tags")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"header"}},[n("div",[n("h2",[n("router-link",{attrs:{to:"/"}},[t._v("nyamarks")]),t._v(" "),n("span",{staticClass:"toggle-options",on:{click:function(e){t.showOptions()}}},[t._v("options")])],1)]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Portable bookmarks")])])}]}},,,,function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./index.js":31,"./links.js":54,"./tags.js":55,"./ui.js":56};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=135},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=n(9),a=n(50),o=n.n(a),s=n(48),u=n(49),c=n(29),l=n.n(c);i.a.component("tagPill",l.a),i.a.use(r.a),i.a.config.productionTip=!1;var d=new r.a.Store(u.a);new i.a({el:"#app",router:s.a,store:d,template:"<App/>",components:{App:o.a}})}],[136]);
//# sourceMappingURL=app.fd9a2e1942bb3dcf719a.js.map